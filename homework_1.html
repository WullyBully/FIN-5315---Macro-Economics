<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en"><head>

<meta charset="utf-8">
<meta name="generator" content="quarto-1.4.549">

<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes">

<meta name="author" content="Brady Bulls">

<title>Homework #1</title>
<style>
code{white-space: pre-wrap;}
span.smallcaps{font-variant: small-caps;}
div.columns{display: flex; gap: min(4vw, 1.5em);}
div.column{flex: auto; overflow-x: auto;}
div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
ul.task-list{list-style: none;}
ul.task-list li input[type="checkbox"] {
  width: 0.8em;
  margin: 0 0.8em 0.2em -1em; /* quarto-specific, see https://github.com/quarto-dev/quarto-cli/issues/4556 */ 
  vertical-align: middle;
}
</style>


<script src="homework_1_files/libs/clipboard/clipboard.min.js"></script>
<script src="homework_1_files/libs/quarto-html/quarto.js"></script>
<script src="homework_1_files/libs/quarto-html/popper.min.js"></script>
<script src="homework_1_files/libs/quarto-html/tippy.umd.min.js"></script>
<script src="homework_1_files/libs/quarto-html/anchor.min.js"></script>
<link href="homework_1_files/libs/quarto-html/tippy.css" rel="stylesheet">
<link href="homework_1_files/libs/quarto-html/quarto-syntax-highlighting.css" rel="stylesheet" id="quarto-text-highlighting-styles">
<script src="homework_1_files/libs/bootstrap/bootstrap.min.js"></script>
<link href="homework_1_files/libs/bootstrap/bootstrap-icons.css" rel="stylesheet">
<link href="homework_1_files/libs/bootstrap/bootstrap.min.css" rel="stylesheet" id="quarto-bootstrap" data-mode="light">

  <script src="https://polyfill.io/v3/polyfill.min.js?features=es6"></script>
  <script src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-chtml-full.js" type="text/javascript"></script>

<script type="text/javascript">
const typesetMath = (el) => {
  if (window.MathJax) {
    // MathJax Typeset
    window.MathJax.typeset([el]);
  } else if (window.katex) {
    // KaTeX Render
    var mathElements = el.getElementsByClassName("math");
    var macros = [];
    for (var i = 0; i < mathElements.length; i++) {
      var texText = mathElements[i].firstChild;
      if (mathElements[i].tagName == "SPAN") {
        window.katex.render(texText.data, mathElements[i], {
          displayMode: mathElements[i].classList.contains('display'),
          throwOnError: false,
          macros: macros,
          fleqn: false
        });
      }
    }
  }
}
window.Quarto = {
  typesetMath
};
</script>

</head>

<body class="fullcontent">

<div id="quarto-content" class="page-columns page-rows-contents page-layout-article">

<main class="content" id="quarto-document-content">

<header id="title-block-header" class="quarto-title-block default">
<div class="quarto-title">
<h1 class="title">Homework #1</h1>
<p class="subtitle lead">Classical and Keynesian Economies</p>
</div>



<div class="quarto-title-meta">

    <div>
    <div class="quarto-title-meta-heading">Author</div>
    <div class="quarto-title-meta-contents">
             <p>Brady Bulls </p>
          </div>
  </div>
    
    <div>
    <div class="quarto-title-meta-heading">Published</div>
    <div class="quarto-title-meta-contents">
      <p class="date">February 22 2024</p>
    </div>
  </div>
  
    
  </div>
  


</header>


<section id="consider-the-following-classical-economy" class="level2">
<h2 class="anchored" data-anchor-id="consider-the-following-classical-economy">1. Consider the following Classical Economy</h2>
<div id="b8e53a5f" class="cell" data-execution_count="2">
<div class="cell-output cell-output-display cell-output-markdown">
<p>The variables and functions are as follows:</p>
<p>Variables</p>
<ul>
<li><strong>Aggregate Capital Stock: <span class="math inline">\(\bar K\)</span></strong> = 200</li>
<li><strong>Aggregate Labor Supply: <span class="math inline">\(\bar L\)</span></strong> = 200</li>
<li><strong>Government Spending: <span class="math inline">\(\bar G\)</span></strong> = 40</li>
<li><strong>Tax Collection: <span class="math inline">\(\bar T\)</span></strong> = 40</li>
</ul>
<p>Functions</p>
<ul>
<li><strong>Production Function:</strong> <span class="math inline">\(Y = K^{0.4}L^{0.6}\)</span></li>
<li><strong>Investment Function:</strong> <span class="math inline">\(I = 45 - 100r\)</span></li>
<li><strong>Consumption Function:</strong> <span class="math inline">\(C = 8 + 0.7Y_d\)</span></li>
</ul>
</div>
</div>
<section id="a.-define-the-term-competitive-equilibrium." class="level5">
<h5 class="anchored" data-anchor-id="a.-define-the-term-competitive-equilibrium.">A. Define the term Competitive Equilibrium.</h5>
<p>Competitive equilibrium is the point that the entirety of the market has reached its equilibrium point. That is, all four of the macro-economic markets <em>(the goods market, the capital market, the loan-able funds market, and the labor market)</em> have all coalesced.</p>
</section>
<section id="b.-what-is-walras-law" class="level5">
<h5 class="anchored" data-anchor-id="b.-what-is-walras-law">B. What is Walra’s law?</h5>
<p>Walras law states that with <span class="math inline">\(n\)</span> markets, if the <span class="math inline">\(n - 1\)</span> market reaches equilibrium, then the <span class="math inline">\(n^{th}\)</span> market will also be in equilibrium. In more common terms, if you know that all but one market is in equilibrium, you can be certain the last market is also in equilibrium.</p>
</section>
<section id="c.-find-the-competitive-equilibrium-by-leaving-out-the-loan-able-funds-market-in-initial-calculations.-then-verify-walras-law-by-showing-that-the-loan-able-funds-market-clears.-draw-diagrams-which-show-the-supply-and-demand-curves-for-each-of-the-markets-and-show-the-competitive-pries-and-allocations." class="level5">
<h5 class="anchored" data-anchor-id="c.-find-the-competitive-equilibrium-by-leaving-out-the-loan-able-funds-market-in-initial-calculations.-then-verify-walras-law-by-showing-that-the-loan-able-funds-market-clears.-draw-diagrams-which-show-the-supply-and-demand-curves-for-each-of-the-markets-and-show-the-competitive-pries-and-allocations.">C. Find the competitive equilibrium by leaving out the loan-able funds market in initial calculations. Then verify <em>Walra’s Law</em> by showing that the loan-able funds market clears. Draw diagrams which show the supply and demand curves for each of the markets and show the competitive pries and allocations.</h5>
<div style="page-break-after: always;"></div>
<section id="the-capital-market" class="level6">
<h6 class="anchored" data-anchor-id="the-capital-market">The Capital Market:</h6>
<p>Given:<br><span class="math inline">\(\bar L = 200\)</span><br> <span class="math inline">\(\bar K = 200\)</span></p>
<p><span class="math display">\[
\begin{align*}
[1] &amp; \quad Max\prod_K = P K^{0.4}L^{0.6} - KR - WL\\
[2] &amp; \quad 0.4PK^{-0.6}L^{0.6} - R = 0\\
[3] &amp; \quad \frac{R}{P} = 0.4(\frac{L}{K})^{0.6}\\
[4] &amp; \quad \frac{R}{P} = 0.4(\frac{200}{200})^{0.6} = 0.40\\
\end{align*}
\]</span></p>
<div id="08fe4b2a" class="cell" data-execution_count="4">
<div class="cell-output cell-output-display">
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="homework_1_files/figure-html/cell-5-output-1.png" class="quarto-figure quarto-figure-center figure-img" width="662" height="566"></p>
</figure>
</div>
</div>
</div>
<div style="page-break-after: always;"></div>
</section>
<section id="the-labor-market" class="level6">
<h6 class="anchored" data-anchor-id="the-labor-market">The Labor Market:</h6>
<p><span class="math display">\[
\begin{align*}
[1] &amp; \quad Max\prod_L = P K^{0.4}L^{0.6} - KR - WL\\
[2] &amp; \quad 0.6PK^{0.4}L^{-0.4} - W = 0\\
[3] &amp; \quad \frac{W}{P} = 0.6(\frac{L}{K})^{0.6}\\
[4] &amp; \quad \frac{W}{P} = 0.6(\frac{200}{200})^{0.4} = 0.60\\
\end{align*}
\]</span></p>
<div id="332061bd" class="cell" data-execution_count="5">
<div class="cell-output cell-output-display">
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="homework_1_files/figure-html/cell-6-output-1.png" class="quarto-figure quarto-figure-center figure-img" width="662" height="566"></p>
</figure>
</div>
</div>
</div>
<div style="page-break-after: always;"></div>
</section>
<section id="the-goods-market" class="level6">
<h6 class="anchored" data-anchor-id="the-goods-market">The Goods Market:</h6>
<p><span class="math display">\[
\begin{align*}
[1] &amp; \quad Y_d = Y - T = 200 - 40 = 160\\
[2] &amp; \quad C = 8 + 0.7*Y_d = 8 + 112 = 120 \\
[3] &amp; \quad S^P = Y_d - C = 160 - 120 = 40\\
[4] &amp; \quad S^G = 40 - 40 - 0\\
[5] &amp; \quad AD = C + S + G = 120 + 40 + 0 = 200
\end{align*}
\]</span></p>
<div id="b619cbb2" class="cell" data-execution_count="6">
<div class="cell-output cell-output-display">
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="homework_1_files/figure-html/cell-7-output-1.png" class="quarto-figure quarto-figure-center figure-img" width="661" height="564"></p>
</figure>
</div>
</div>
</div>
<div style="page-break-after: always;"></div>
</section>
<section id="walras-law-verification-using-the-loanable-funds-market" class="level6">
<h6 class="anchored" data-anchor-id="walras-law-verification-using-the-loanable-funds-market">Walras Law Verification Using the Loanable Funds Market</h6>
<p><span class="math display">\[
\begin{align*}
[1] &amp; \quad S = I(r) = 45 - 100r\\
[2] &amp; \quad 40 = 45 - 100r\\
[3] &amp; \quad r = \frac{5}{100} = 0.5\\
\end{align*}
\]</span></p>
<div id="dbf7f206" class="cell" data-execution_count="7">
<div class="cell-output cell-output-display">
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="homework_1_files/figure-html/cell-8-output-1.png" class="quarto-figure quarto-figure-center figure-img" width="661" height="564"></p>
</figure>
</div>
</div>
</div>
<p><strong>Walra’s Law holds true. We confirmed that three of the four markets were in equilibrium, and the fourth and final market was indeed also in equilibrium.</strong></p>
<div style="page-break-after: always;"></div>
</section>
</section>
<section id="d.-suppose-the-government-spending-increases-to-bar-g-42-and-taxes-are-cut-to-bar-t-38." class="level5">
<h5 class="anchored" data-anchor-id="d.-suppose-the-government-spending-increases-to-bar-g-42-and-taxes-are-cut-to-bar-t-38.">D. Suppose the government spending increases to <span class="math inline">\(\bar G = 42\)</span> and taxes are cut to <span class="math inline">\(\bar T = 38\)</span>.</h5>
<ol type="i">
<li><p>Find the equilibrium level of output, consumption, investment and interest rates.</p></li>
<li><p>Plot the figures of both the loan-able funds market and goods market illustrating the before and after economic positions for the economy.</p></li>
<li><p>What happens to the level of investment in the economy as a result of the spending increase? Does the investment implication make sense relative to the assumption that the capital stock is unchanged?</p></li>
</ol>
<section id="i." class="level6">
<h6 class="anchored" data-anchor-id="i.">i.</h6>
<p><span class="math display">\[
\begin{align*}
&amp;Output &amp; Consumption &amp;&amp; Loanable\quad Funds\\
&amp;[1]\quad AD = C + I + G &amp;[1]\quad C = 8 + 0.7Y_d &amp;&amp;[1]\quad I_{(r)} = 45 - 100r\\
&amp;[2]\quad AD = 121.4 + 36.6 + 42 = 200 &amp;&amp;&amp;[2]\quad 36.6 = 45-100r\\
&amp; &amp;  &amp;&amp;[3]\quad r = 0.084
\end{align*}
\]</span></p>
<p>Adjusted Output</p>
<div id="a70df799" class="cell" data-execution_count="8">
<div class="cell-output cell-output-display">
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="homework_1_files/figure-html/cell-9-output-1.png" class="quarto-figure quarto-figure-center figure-img" width="661" height="564"></p>
</figure>
</div>
</div>
</div>
<div style="page-break-after: always;"></div>
<p>Adjusted Loan-able Funds</p>
<div id="e173d927" class="cell" data-execution_count="9">
<div class="cell-output cell-output-display">
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="homework_1_files/figure-html/cell-10-output-1.png" class="quarto-figure quarto-figure-center figure-img" width="661" height="564"></p>
</figure>
</div>
</div>
</div>
<div style="page-break-after: always;"></div>
<p>Suppose that in addition to the information described above, we know the following:</p>
<p><strong>Money Demand:</strong> <span class="math inline">\(L^d = 5Y\)</span></p>
<p><strong>Nominal Money Supply:</strong> <span class="math inline">\(M = 100\)</span></p>
<ol start="5" type="a">
<li><p>Find the price level for this economy</p></li>
<li><p>Find the nominal wage rate and the nominal rental rate</p></li>
<li><p>How does this problem illustrate the classical dichotomy?</p></li>
</ol>
</section>
<section id="e.-find-the-price-level-for-this-economy" class="level6">
<h6 class="anchored" data-anchor-id="e.-find-the-price-level-for-this-economy">e. Find the price level for this economy</h6>
<p><span class="math display">\[
\begin{align*}
&amp;[1]\quad MV = PY \\
&amp;[2]\quad \frac{M}{P} = L^d \\
&amp;[3]\quad \frac{M}{P} = 5Y\\
&amp;[4]\quad \frac{1000}{P} = 5(200)\\
&amp;[5]\quad P = 1
\end{align*}
\]</span></p>
</section>
<section id="f.-find-the-nominal-wage-rate-and-the-nominal-rental-rate" class="level6">
<h6 class="anchored" data-anchor-id="f.-find-the-nominal-wage-rate-and-the-nominal-rental-rate">f.&nbsp;Find the nominal wage rate and the nominal rental rate</h6>
<p><span class="math display">\[
\begin{align*}
&amp;[1]\quad \frac{R}{P} = 0.4 &amp;[1]\quad \frac{W}{P} = 0.6\\
&amp;[2]\quad R = 0.4 &amp;[2]\quad W = 0.6\\
\end{align*}
\]</span></p>
</section>
<section id="g.-how-does-this-problem-illustrate-the-classical-dichotomy" class="level6">
<h6 class="anchored" data-anchor-id="g.-how-does-this-problem-illustrate-the-classical-dichotomy">g. How does this problem illustrate the classical dichotomy?</h6>
<p>The classical dichotomy is the separation of the real and nominal variables. We were able to completely solve for all our nominal variables without the use of the real variables. We were also able to solve for the real variables without need of the nominal ones. This is a clear demonstration of the separation followed by classical economists.</p>
<div style="page-break-after: always;"></div>
</section>
</section>
</section>
<section id="consider-the-following-keynesian-economy" class="level2">
<h2 class="anchored" data-anchor-id="consider-the-following-keynesian-economy">2. Consider the following Keynesian Economy</h2>
<div id="7498cbd4" class="cell" data-execution_count="10">
<div class="cell-output cell-output-display cell-output-markdown">
<p>The variables and functions are as follows:</p>
<p>Variables</p>
<ul>
<li><strong>Capital Stock: <span class="math inline">\(K_t\)</span></strong> = 200</li>
<li><strong>Labor Supply: <span class="math inline">\(L_t\)</span></strong> = 200</li>
<li><strong>Government Spending: <span class="math inline">\(\bar G_t\)</span></strong> = 40</li>
<li><strong>Tax Collection: <span class="math inline">\(\bar T_t\)</span></strong> = 40</li>
<li><strong>Price Level:</strong> <span class="math inline">\(\bar P_t = 1\)</span></li>
</ul>
<p>Functions</p>
<ul>
<li><strong>Production Function:</strong> <span class="math inline">\(Y_t = K^{0.4}L^{0.6}\)</span></li>
<li><strong>Investment Function:</strong> <span class="math inline">\(I_t = 45 - 100r\)</span></li>
<li><strong>Consumption Function:</strong> <span class="math inline">\(C_t = 8 + 0.7Y_d\)</span></li>
<li><strong>Money Demand Function:</strong> <span class="math inline">\((\frac{M_t}{P_t})^d = 5Y_t - 2000r\)</span></li>
<li><strong>Money Supply:</strong> <span class="math inline">\(\bar M_t = 900\)</span></li>
</ul>
</div>
</div>
<section id="a.-find-an-expression-for-the-is-curve." class="level5">
<h5 class="anchored" data-anchor-id="a.-find-an-expression-for-the-is-curve.">a. Find an expression for the IS curve.</h5>
<p><span class="math display">\[
\begin{align*}
&amp;[1]\quad r = \frac{1}{i_t}(a - b(T_t) + \bar I + G_t) - \frac{(1-b)}{i}Y_t\\
&amp;[2]\quad r = \frac{1}{100}(8 - 0.7(40) + 45 + 40) - \frac{(1-0.7)}{100}Y_t\\
&amp; \text Simplify\\
&amp;[3]\quad r = -0.003Y_t + 0.65
\end{align*}
\]</span></p>
</section>
<section id="b.-find-an-expression-for-the-lm-curve." class="level5">
<h5 class="anchored" data-anchor-id="b.-find-an-expression-for-the-lm-curve.">b. Find an expression for the LM curve.</h5>
<p><span class="math display">\[
\begin{align*}
&amp;[1]\quad (\frac{M}{P})^d = 5Y_t - 2000r_t\\
&amp;[2]\quad 900 = 5Y - 2000r_t\\
&amp;[3]\quad r = 0.0025Y - 0.45
\end{align*}
\]</span></p>
</section>
<section id="c.-find-an-expression-for-the-aggregate-demand-curve-that-relates-price-and-output." class="level5">
<h5 class="anchored" data-anchor-id="c.-find-an-expression-for-the-aggregate-demand-curve-that-relates-price-and-output.">c.&nbsp;Find an expression for the aggregate demand curve (that relates price and output).</h5>
<p><span class="math display">\[
\begin{align*}
&amp;[1]\quad r = -0.003Y + 0.65 = 0.0025Y - \frac{M}{2000}\\
&amp;[2]\quad -0.003Y - 0.0025Y = \frac{M}{2000P} - 0.65\\
&amp;[3]\quad Y = \frac{\frac{M}{2000P}+0.65}{0.0055}
\end{align*}
\]</span></p>
<div style="page-break-after: always;"></div>
</section>
<section id="d.-what-are-the-short-run-equilibrium-values-of-output-interest-rates-and-prices" class="level5">
<h5 class="anchored" data-anchor-id="d.-what-are-the-short-run-equilibrium-values-of-output-interest-rates-and-prices">d.&nbsp;What are the short run equilibrium values of output, interest rates, and prices?</h5>
<p>Since we have already calculated the IS curve and the LM curve, we just need to set them equal and solve for our values.</p>
<p><span class="math display">\[
\begin{align*}
-0.003Y_t + 0.65 &amp;= 0.0025Y_t - 0.45\\
-0.003Y + 1.1 &amp;= 0.0055Y\\
Y_t &amp;= 200\\
\\
r &amp;= - 0.003(200) + 0.65\\
r &amp;= 0.05
\end{align*}
\]</span></p>
</section>
<section id="e.-what-are-the-long-run-equilibrium-values-for-output-interest-rates-and-prices" class="level5">
<h5 class="anchored" data-anchor-id="e.-what-are-the-long-run-equilibrium-values-for-output-interest-rates-and-prices">e. What are the long run equilibrium values for output, interest rates, and prices?</h5>
<p>Since there has been no economic shocks or money supply change, the short-run is currently in the long-run, so the levels will be the same as previously calculated.</p>
</section>
<section id="f.-suppose-that-as-a-result-of-the-20062007-housing-bust-the-investment-function-shifts-to" class="level5">
<h5 class="anchored" data-anchor-id="f.-suppose-that-as-a-result-of-the-20062007-housing-bust-the-investment-function-shifts-to">f.&nbsp;Suppose that as a result of the 2006/2007 housing bust, the investment function shifts to:</h5>
<p><strong>Investment Function:</strong> <span class="math inline">\(I_t = 43 - 100r_t\)</span></p>
<ol type="i">
<li><p>Find the new equilibrium values for output, interest rates, and prices.</p></li>
<li><p>Suppose the government adopts a classical position to let market forces move the economy back to the long run. Carefully explain what will happen as the economy shifts form Long-run to Short-run, then from Short-run back to Long-run.</p></li>
<li><p>Suppose that the Federal Resever (central bank) decides that adopting the classical position is too painful and wants to increase the money supply by exactly the right amount to get the long run equilibrium output level. What will <span class="math inline">\(\bar M_t\)</span> have to increase to?</p></li>
</ol>
</section>
<section id="i.-find-the-new-equilibrium" class="level5">
<h5 class="anchored" data-anchor-id="i.-find-the-new-equilibrium">i. Find the new equilibrium</h5>
<p><span class="math display">\[
\begin{align*}
&amp;[1]\quad r = \frac{1}{100}(8 - 0.7(40) + 43 + 40) - \frac{(1-0.7)}{100}Y_t\\
&amp;[2]\quad r = 0.01(63) - 0.003Y_t\\
&amp;[3]\quad r = -0.003Y_t + 0.63
\end{align*}
\]</span></p>
<p>The LM remains unchanged</p>
<p><span class="math display">\[
\begin{align*}
&amp;[1]\quad 0.0025Y_t -0.45 = -0.003Y_t + 0.63\\
&amp;[2]\quad 0.005Y_t = 1.08\\
&amp;[3]\quad Y_t = 196.364\quad,  \quad r = 0.0409
\end{align*}
\]</span></p>
</section>
<section id="ii.-describe-the-classical-response-to-these-changes." class="level5">
<h5 class="anchored" data-anchor-id="ii.-describe-the-classical-response-to-these-changes.">ii. Describe the classical response to these changes.</h5>
<p>In the short-run, with classical policies, the decreased investment will lead to a fall in the aggregate demand. This cascades into a short run fall in output and a decline in employment. With employment falling, wages will also begin to decline. Since prices are sticky in the short-run, the economy will operate at this reduced capacity until it is able to transition out. Overtime, the price-level will begin to fall, the real variables will adjust, employment will rise, output will rise, and the economy will enter the long-run at the new, lower, price-level.</p>
</section>
<section id="iii.-describe-the-central-bank-intervention." class="level5">
<h5 class="anchored" data-anchor-id="iii.-describe-the-central-bank-intervention.">iii. Describe the central bank intervention.</h5>
<p>By increasing the money supply by the perfect amount, the central bank can stave off the fall in output and keep employment steady in its current long-run form.</p>
<p><span class="math display">\[
\begin{align*}
r &amp;= 0.0409\\
\frac{M}{P} &amp;= 5Y_t - 2000r_t\\
M &amp;= 5(200) - 2000(0.0409)\\
M &amp;= 918.20
\end{align*}
\]</span></p>
<p>If the central bank wants to maintain its current long run positions of output and employment, it should increase the money supply from 900 to 918.20.</p>
</section>
</section>

</main>
<!-- /main column -->
<script id="quarto-html-after-body" type="application/javascript">
window.document.addEventListener("DOMContentLoaded", function (event) {
  const toggleBodyColorMode = (bsSheetEl) => {
    const mode = bsSheetEl.getAttribute("data-mode");
    const bodyEl = window.document.querySelector("body");
    if (mode === "dark") {
      bodyEl.classList.add("quarto-dark");
      bodyEl.classList.remove("quarto-light");
    } else {
      bodyEl.classList.add("quarto-light");
      bodyEl.classList.remove("quarto-dark");
    }
  }
  const toggleBodyColorPrimary = () => {
    const bsSheetEl = window.document.querySelector("link#quarto-bootstrap");
    if (bsSheetEl) {
      toggleBodyColorMode(bsSheetEl);
    }
  }
  toggleBodyColorPrimary();  
  const icon = "";
  const anchorJS = new window.AnchorJS();
  anchorJS.options = {
    placement: 'right',
    icon: icon
  };
  anchorJS.add('.anchored');
  const isCodeAnnotation = (el) => {
    for (const clz of el.classList) {
      if (clz.startsWith('code-annotation-')) {                     
        return true;
      }
    }
    return false;
  }
  const clipboard = new window.ClipboardJS('.code-copy-button', {
    text: function(trigger) {
      const codeEl = trigger.previousElementSibling.cloneNode(true);
      for (const childEl of codeEl.children) {
        if (isCodeAnnotation(childEl)) {
          childEl.remove();
        }
      }
      return codeEl.innerText;
    }
  });
  clipboard.on('success', function(e) {
    // button target
    const button = e.trigger;
    // don't keep focus
    button.blur();
    // flash "checked"
    button.classList.add('code-copy-button-checked');
    var currentTitle = button.getAttribute("title");
    button.setAttribute("title", "Copied!");
    let tooltip;
    if (window.bootstrap) {
      button.setAttribute("data-bs-toggle", "tooltip");
      button.setAttribute("data-bs-placement", "left");
      button.setAttribute("data-bs-title", "Copied!");
      tooltip = new bootstrap.Tooltip(button, 
        { trigger: "manual", 
          customClass: "code-copy-button-tooltip",
          offset: [0, -8]});
      tooltip.show();    
    }
    setTimeout(function() {
      if (tooltip) {
        tooltip.hide();
        button.removeAttribute("data-bs-title");
        button.removeAttribute("data-bs-toggle");
        button.removeAttribute("data-bs-placement");
      }
      button.setAttribute("title", currentTitle);
      button.classList.remove('code-copy-button-checked');
    }, 1000);
    // clear code selection
    e.clearSelection();
  });
  function tippyHover(el, contentFn, onTriggerFn, onUntriggerFn) {
    const config = {
      allowHTML: true,
      maxWidth: 500,
      delay: 100,
      arrow: false,
      appendTo: function(el) {
          return el.parentElement;
      },
      interactive: true,
      interactiveBorder: 10,
      theme: 'quarto',
      placement: 'bottom-start',
    };
    if (contentFn) {
      config.content = contentFn;
    }
    if (onTriggerFn) {
      config.onTrigger = onTriggerFn;
    }
    if (onUntriggerFn) {
      config.onUntrigger = onUntriggerFn;
    }
    window.tippy(el, config); 
  }
  const noterefs = window.document.querySelectorAll('a[role="doc-noteref"]');
  for (var i=0; i<noterefs.length; i++) {
    const ref = noterefs[i];
    tippyHover(ref, function() {
      // use id or data attribute instead here
      let href = ref.getAttribute('data-footnote-href') || ref.getAttribute('href');
      try { href = new URL(href).hash; } catch {}
      const id = href.replace(/^#\/?/, "");
      const note = window.document.getElementById(id);
      return note.innerHTML;
    });
  }
  const xrefs = window.document.querySelectorAll('a.quarto-xref');
  const processXRef = (id, note) => {
    // Strip column container classes
    const stripColumnClz = (el) => {
      el.classList.remove("page-full", "page-columns");
      if (el.children) {
        for (const child of el.children) {
          stripColumnClz(child);
        }
      }
    }
    stripColumnClz(note)
    if (id === null || id.startsWith('sec-')) {
      // Special case sections, only their first couple elements
      const container = document.createElement("div");
      if (note.children && note.children.length > 2) {
        container.appendChild(note.children[0].cloneNode(true));
        for (let i = 1; i < note.children.length; i++) {
          const child = note.children[i];
          if (child.tagName === "P" && child.innerText === "") {
            continue;
          } else {
            container.appendChild(child.cloneNode(true));
            break;
          }
        }
        if (window.Quarto?.typesetMath) {
          window.Quarto.typesetMath(container);
        }
        return container.innerHTML
      } else {
        if (window.Quarto?.typesetMath) {
          window.Quarto.typesetMath(note);
        }
        return note.innerHTML;
      }
    } else {
      // Remove any anchor links if they are present
      const anchorLink = note.querySelector('a.anchorjs-link');
      if (anchorLink) {
        anchorLink.remove();
      }
      if (window.Quarto?.typesetMath) {
        window.Quarto.typesetMath(note);
      }
      // TODO in 1.5, we should make sure this works without a callout special case
      if (note.classList.contains("callout")) {
        return note.outerHTML;
      } else {
        return note.innerHTML;
      }
    }
  }
  for (var i=0; i<xrefs.length; i++) {
    const xref = xrefs[i];
    tippyHover(xref, undefined, function(instance) {
      instance.disable();
      let url = xref.getAttribute('href');
      let hash = undefined; 
      if (url.startsWith('#')) {
        hash = url;
      } else {
        try { hash = new URL(url).hash; } catch {}
      }
      if (hash) {
        const id = hash.replace(/^#\/?/, "");
        const note = window.document.getElementById(id);
        if (note !== null) {
          try {
            const html = processXRef(id, note.cloneNode(true));
            instance.setContent(html);
          } finally {
            instance.enable();
            instance.show();
          }
        } else {
          // See if we can fetch this
          fetch(url.split('#')[0])
          .then(res => res.text())
          .then(html => {
            const parser = new DOMParser();
            const htmlDoc = parser.parseFromString(html, "text/html");
            const note = htmlDoc.getElementById(id);
            if (note !== null) {
              const html = processXRef(id, note);
              instance.setContent(html);
            } 
          }).finally(() => {
            instance.enable();
            instance.show();
          });
        }
      } else {
        // See if we can fetch a full url (with no hash to target)
        // This is a special case and we should probably do some content thinning / targeting
        fetch(url)
        .then(res => res.text())
        .then(html => {
          const parser = new DOMParser();
          const htmlDoc = parser.parseFromString(html, "text/html");
          const note = htmlDoc.querySelector('main.content');
          if (note !== null) {
            // This should only happen for chapter cross references
            // (since there is no id in the URL)
            // remove the first header
            if (note.children.length > 0 && note.children[0].tagName === "HEADER") {
              note.children[0].remove();
            }
            const html = processXRef(null, note);
            instance.setContent(html);
          } 
        }).finally(() => {
          instance.enable();
          instance.show();
        });
      }
    }, function(instance) {
    });
  }
      let selectedAnnoteEl;
      const selectorForAnnotation = ( cell, annotation) => {
        let cellAttr = 'data-code-cell="' + cell + '"';
        let lineAttr = 'data-code-annotation="' +  annotation + '"';
        const selector = 'span[' + cellAttr + '][' + lineAttr + ']';
        return selector;
      }
      const selectCodeLines = (annoteEl) => {
        const doc = window.document;
        const targetCell = annoteEl.getAttribute("data-target-cell");
        const targetAnnotation = annoteEl.getAttribute("data-target-annotation");
        const annoteSpan = window.document.querySelector(selectorForAnnotation(targetCell, targetAnnotation));
        const lines = annoteSpan.getAttribute("data-code-lines").split(",");
        const lineIds = lines.map((line) => {
          return targetCell + "-" + line;
        })
        let top = null;
        let height = null;
        let parent = null;
        if (lineIds.length > 0) {
            //compute the position of the single el (top and bottom and make a div)
            const el = window.document.getElementById(lineIds[0]);
            top = el.offsetTop;
            height = el.offsetHeight;
            parent = el.parentElement.parentElement;
          if (lineIds.length > 1) {
            const lastEl = window.document.getElementById(lineIds[lineIds.length - 1]);
            const bottom = lastEl.offsetTop + lastEl.offsetHeight;
            height = bottom - top;
          }
          if (top !== null && height !== null && parent !== null) {
            // cook up a div (if necessary) and position it 
            let div = window.document.getElementById("code-annotation-line-highlight");
            if (div === null) {
              div = window.document.createElement("div");
              div.setAttribute("id", "code-annotation-line-highlight");
              div.style.position = 'absolute';
              parent.appendChild(div);
            }
            div.style.top = top - 2 + "px";
            div.style.height = height + 4 + "px";
            div.style.left = 0;
            let gutterDiv = window.document.getElementById("code-annotation-line-highlight-gutter");
            if (gutterDiv === null) {
              gutterDiv = window.document.createElement("div");
              gutterDiv.setAttribute("id", "code-annotation-line-highlight-gutter");
              gutterDiv.style.position = 'absolute';
              const codeCell = window.document.getElementById(targetCell);
              const gutter = codeCell.querySelector('.code-annotation-gutter');
              gutter.appendChild(gutterDiv);
            }
            gutterDiv.style.top = top - 2 + "px";
            gutterDiv.style.height = height + 4 + "px";
          }
          selectedAnnoteEl = annoteEl;
        }
      };
      const unselectCodeLines = () => {
        const elementsIds = ["code-annotation-line-highlight", "code-annotation-line-highlight-gutter"];
        elementsIds.forEach((elId) => {
          const div = window.document.getElementById(elId);
          if (div) {
            div.remove();
          }
        });
        selectedAnnoteEl = undefined;
      };
        // Handle positioning of the toggle
    window.addEventListener(
      "resize",
      throttle(() => {
        elRect = undefined;
        if (selectedAnnoteEl) {
          selectCodeLines(selectedAnnoteEl);
        }
      }, 10)
    );
    function throttle(fn, ms) {
    let throttle = false;
    let timer;
      return (...args) => {
        if(!throttle) { // first call gets through
            fn.apply(this, args);
            throttle = true;
        } else { // all the others get throttled
            if(timer) clearTimeout(timer); // cancel #2
            timer = setTimeout(() => {
              fn.apply(this, args);
              timer = throttle = false;
            }, ms);
        }
      };
    }
      // Attach click handler to the DT
      const annoteDls = window.document.querySelectorAll('dt[data-target-cell]');
      for (const annoteDlNode of annoteDls) {
        annoteDlNode.addEventListener('click', (event) => {
          const clickedEl = event.target;
          if (clickedEl !== selectedAnnoteEl) {
            unselectCodeLines();
            const activeEl = window.document.querySelector('dt[data-target-cell].code-annotation-active');
            if (activeEl) {
              activeEl.classList.remove('code-annotation-active');
            }
            selectCodeLines(clickedEl);
            clickedEl.classList.add('code-annotation-active');
          } else {
            // Unselect the line
            unselectCodeLines();
            clickedEl.classList.remove('code-annotation-active');
          }
        });
      }
  const findCites = (el) => {
    const parentEl = el.parentElement;
    if (parentEl) {
      const cites = parentEl.dataset.cites;
      if (cites) {
        return {
          el,
          cites: cites.split(' ')
        };
      } else {
        return findCites(el.parentElement)
      }
    } else {
      return undefined;
    }
  };
  var bibliorefs = window.document.querySelectorAll('a[role="doc-biblioref"]');
  for (var i=0; i<bibliorefs.length; i++) {
    const ref = bibliorefs[i];
    const citeInfo = findCites(ref);
    if (citeInfo) {
      tippyHover(citeInfo.el, function() {
        var popup = window.document.createElement('div');
        citeInfo.cites.forEach(function(cite) {
          var citeDiv = window.document.createElement('div');
          citeDiv.classList.add('hanging-indent');
          citeDiv.classList.add('csl-entry');
          var biblioDiv = window.document.getElementById('ref-' + cite);
          if (biblioDiv) {
            citeDiv.innerHTML = biblioDiv.innerHTML;
          }
          popup.appendChild(citeDiv);
        });
        return popup.innerHTML;
      });
    }
  }
});
</script>
</div> <!-- /content -->




</body></html>